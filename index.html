<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QuantLab | Quant Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
margin:0;
font-family:Arial, Helvetica, sans-serif;
background:linear-gradient(135deg,#0b1f3a,#132f52,#1f4c7c);
color:white;
}

header{
padding:20px;
text-align:center;
font-size:28px;
font-weight:bold;
letter-spacing:1px;
background:rgba(0,0,0,0.3);
}

.dashboard{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(400px,1fr));
gap:20px;
padding:20px;
}

.card{
background:rgba(255,255,255,0.06);
padding:20px;
border-radius:14px;
box-shadow:0 0 15px rgba(0,0,0,0.3);
}

h3{
margin-top:0;
border-bottom:1px solid rgba(255,255,255,0.2);
padding-bottom:8px;
}

input,button{
padding:6px;
margin:4px;
border:none;
border-radius:6px;
}

button{
background:#2196f3;
color:white;
cursor:pointer;
}

button:hover{
background:#42a5f5;
}

canvas{
background:white;
border-radius:10px;
padding:8px;
}

.kpis{
display:flex;
justify-content:space-around;
padding:15px;
background:rgba(0,0,0,0.4);
font-size:14px;
}

.kpis div{
text-align:center;
}

footer{
text-align:center;
padding:15px;
background:rgba(0,0,0,0.4);
}
</style>
</head>

<body>

<header>QuantLab | Hedge Fund Style Dashboard</header>

<div class="kpis">
<div>Sharpe: <span id="kpiSharpe">-</span></div>
<div>Sortino: <span id="kpiSortino">-</span></div>
<div>Max DD: <span id="kpiDD">-</span></div>
<div>Return: <span id="kpiReturn">-</span></div>
</div>

<div class="dashboard">

<!-- COMPOUND -->
<div class="card">
<h3>Compound Interest</h3>
£ <input type="number" id="ciP" value="1000">
% <input type="number" id="ciR" value="8">
Years <input type="number" id="ciY" value="20">
<button onclick="compound()">Run</button>
<canvas id="compoundChart"></canvas>
</div>

<!-- INFLATION -->
<div class="card">
<h3>Inflation Adjusted</h3>
£ <input type="number" id="infP" value="10000">
Return % <input type="number" id="infR" value="8">
Inflation % <input type="number" id="infI" value="3">
Years <input type="number" id="infY" value="20">
<button onclick="inflationCalc()">Run</button>
<canvas id="inflationChart"></canvas>
</div>

<!-- RATIOS -->
<div class="card">
<h3>Risk Ratios</h3>
Return % <input type="number" id="ratR" value="10">
Vol % <input type="number" id="ratV" value="15">
Risk-Free % <input type="number" id="ratRf" value="2">
Down Vol % <input type="number" id="ratDV" value="10">
<button onclick="ratios()">Calculate</button>
<canvas id="drawChart"></canvas>
</div>

<!-- MONTE CARLO -->
<div class="card">
<h3>Monte Carlo</h3>
£ <input type="number" id="mcP" value="100">
Return % <input type="number" id="mcR" value="8">
Vol % <input type="number" id="mcV" value="20">
Years <input type="number" id="mcY" value="15">
<button onclick="monte()">Simulate</button>
<canvas id="mcChart"></canvas>
</div>

<!-- STRATEGY -->
<div class="card">
<h3>Strategy Comparison</h3>
£ <input type="number" id="stP" value="10000">
Return % <input type="number" id="stR" value="8">
Years <input type="number" id="stY" value="20">
<button onclick="strategy()">Compare</button>
<canvas id="stChart"></canvas>
</div>

<!-- TRADING BOT -->
<div class="card">
<h3>Moving Average Trading Bot</h3>
£ <input type="number" id="botC" value="10000">
<button onclick="bot()">Run Bot</button>
<canvas id="botChart"></canvas>
</div>

<!-- PORTFOLIO OPTIMISER -->
<div class="card">
<h3>Portfolio Optimiser</h3>
A % <input type="number" id="r1" value="8">
Vol % <input type="number" id="v1" value="15"><br>
B % <input type="number" id="r2" value="12">
Vol % <input type="number" id="v2" value="25"><br>
C % <input type="number" id="r3" value="6">
Vol % <input type="number" id="v3" value="10"><br>
<button onclick="optimise()">Optimise</button>
<canvas id="portChart"></canvas>
</div>

<!-- RISK RETURN -->
<div class="card">
<h3>Risk vs Return</h3>
<canvas id="scatterChart"></canvas>
</div>

</div>

<footer>
Contact: danieldgschofield@gmail.com
</footer>

<script>
let charts={};

/* COMPOUND */
function compound(){
let P=ciP.value;
let r=ciR.value/100;
let y=ciY.value;
let data=[],labels=[];
for(let i=0;i<=y;i++){
labels.push(i);
data.push(P*Math.pow(1+r,i));
}
if(charts.c)charts.c.destroy();
charts.c=new Chart(compoundChart,{type:'line',
data:{labels:labels,datasets:[{label:"£ Growth",data:data,borderColor:'blue'}]}});
}

/* INFLATION */
function inflationCalc(){
let P=infP.value;
let r=infR.value/100;
let inf=infI.value/100;
let y=infY.value;
let n=[],real=[],labels=[];
for(let i=0;i<=y;i++){
labels.push(i);
n.push(P*Math.pow(1+r,i));
real.push(P*Math.pow((1+r)/(1+inf),i));
}
if(charts.i)charts.i.destroy();
charts.i=new Chart(inflationChart,{type:'line',
data:{labels:labels,datasets:[
{label:"Nominal",data:n,borderColor:'blue'},
{label:"Real",data:real,borderColor:'green'}]}});
}

/* RATIOS */
function ratios(){
let r=ratR.value/100;
let v=ratV.value/100;
let rf=ratRf.value/100;
let dv=ratDV.value/100;
let sharpe=(r-rf)/v;
let sortino=(r-rf)/dv;

document.getElementById("kpiSharpe").innerHTML=sharpe.toFixed(2);
document.getElementById("kpiSortino").innerHTML=sortino.toFixed(2);
document.getElementById("kpiReturn").innerHTML=(r*100).toFixed(1)+"%";

let value=100,peak=100,maxDD=0,dd=[],labels=[];
for(let i=0;i<100;i++){
value*=1+(Math.random()-0.45)/8;
peak=Math.max(peak,value);
let draw=(value-peak)/peak;
maxDD=Math.min(maxDD,draw);
dd.push(draw*100);
labels.push(i);
}
document.getElementById("kpiDD").innerHTML=(maxDD*100).toFixed(2)+"%";

if(charts.d)charts.d.destroy();
charts.d=new Chart(drawChart,{type:'line',
data:{labels:labels,datasets:[{label:"Drawdown %",data:dd,borderColor:'red'}]}});
}

/* MONTE */
function monte(){
let P=mcP.value;
let r=mcR.value/100;
let v=mcV.value/100;
let y=mcY.value;
let data=[P],labels=[];
for(let i=1;i<=y;i++){
P*=1+r+(Math.random()-0.5)*v;
data.push(P);
labels.push(i);
}
if(charts.m)charts.m.destroy();
charts.m=new Chart(mcChart,{type:'line',
data:{labels:labels,datasets:[{label:"Price",data:data,borderColor:'purple'}]}});
}

/* STRATEGY */
function strategy(){
let P=stP.value;
let r=stR.value/100;
let y=stY.value;
let bh=P,dca=0,cash=P,labels=[],bhArr=[],dcaArr=[],cashArr=[];
let invest=P/y;
for(let i=0;i<=y;i++){
labels.push(i);
if(i>0){
bh*=1+r;
dca=(dca+invest)*(1+r);
}
bhArr.push(bh);
dcaArr.push(dca);
cashArr.push(cash);
}
if(charts.s)charts.s.destroy();
charts.s=new Chart(stChart,{type:'line',
data:{labels:labels,datasets:[
{label:"BuyHold",data:bhArr,borderColor:'blue'},
{label:"DCA",data:dcaArr,borderColor:'orange'},
{label:"Cash",data:cashArr,borderColor:'red'}]}});
}

/* BOT */
function bot(){
let capital=botC.value;
let prices=[],labels=[],p=100;
for(let i=0;i<200;i++){
p*=1+(Math.random()-0.48)/15;
prices.push(p);
labels.push(i);
}
let portfolio=capital;
for(let i=0;i<prices.length;i++){
portfolio*=1+(Math.random()-0.48)/15;
}
if(charts.b)charts.b.destroy();
charts.b=new Chart(botChart,{type:'line',
data:{labels:labels,datasets:[
{label:"Asset",data:prices,borderColor:'green'}]}});
}

/* PORTFOLIO */
function optimise(){
let r1v=r1.value/v1.value;
let r2v=r2.value/v2.value;
let r3v=r3.value/v3.value;
let sum=r1v+r2v+r3v;
let w1=r1v/sum,w2=r2v/sum,w3=r3v/sum;
if(charts.p)charts.p.destroy();
charts.p=new Chart(portChart,{type:'pie',
data:{labels:["A","B","C"],
datasets:[{data:[w1*100,w2*100,w3*100]}]}});
}

/* SCATTER */
charts.sc=new Chart(scatterChart,{type:'scatter',
data:{datasets:[{label:"Assets",
data:[{x:5,y:4},{x:10,y:8},{x:15,y:12},{x:20,y:18}]}]},
options:{scales:{x:{title:{display:true,text:"Risk %"}},
y:{title:{display:true,text:"Return %"}}}}});

compound();
inflationCalc();
ratios();
monte();
strategy();
bot();
optimise();
</script>

</body>
</html>
